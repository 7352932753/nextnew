(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3797],{6752:function(e,s,a){Promise.resolve().then(a.bind(a,6577))},7028:function(e,s,a){"use strict";a.d(s,{Z:function(){return c}});var l=a(7437);a(2265);var r=a(8475),t=a.n(r);function c(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("footer",{className:"main-footer",children:[(0,l.jsxs)("strong",{children:["Copyright \xa9 2023 ",(0,l.jsx)("a",{href:"#"}),"."]}),"All rights reserved.",(0,l.jsx)("div",{className:"float-right d-none d-sm-inline-block"})]}),(0,l.jsx)(t(),{src:"../js/jquery.min.js"}),(0,l.jsx)(t(),{src:"../js/bootstrap.bundle.min.js"}),(0,l.jsx)(t(),{src:"../js/adminlte.js"}),(0,l.jsx)(t(),{src:"../js/Chart.min.js"}),(0,l.jsx)(t(),{src:"../js/summernote-bs4.min.js"}),(0,l.jsx)(t(),{src:"../js/demo.js"}),(0,l.jsx)(t(),{src:"../js/dashboard3.js"})]})}},6577:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var l=a(7437),r=a(2265),t=a(7028),c=a(5478);a(6691);var i=a(5925),n=a(3159),d=a(1866),o=a(4086),m=a(9584),h=a(1396),u=a.n(h);a(6076);var x=a(2037),j=a(3572),p=a(3414),N=a(1167),f=a(8153);function g(){let[e,s]=(0,r.useState)(!1),[a,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[w,I]=(0,r.useState)(""),[C,S]=(0,r.useState)(""),[E,U]=(0,r.useState)(""),[k,Z]=(0,r.useState)(""),[F,_]=(0,r.useState)(""),[J,V]=(0,r.useState)(""),[M,O]=(0,r.useState)(""),[P,A]=(0,r.useState)(""),[D,H]=(0,r.useState)(""),z=()=>s(!1),[L,B]=(0,r.useState)([]),$=async e=>{s(!0),h(""),v(""),y(""),I(""),S(""),U(""),Z(""),_(""),A(""),H("");let a=(0,o.IO)((0,o.hJ)(d.Uc,"user"),(0,o.ar)("userId","==",e)),l=await (0,o.cf)(a,e=>{let s=[];return B(s),e.forEach(e=>{s.push({...e.data(),id:e.id})}),h(s[0].name),v(s[0].email),y(s[0].mobile),I(s[0].address),S(s[0].city),U(s[0].country),Z(s[0].state),_(s[0].zip),A(s[0].id),H(s[0].profile),B(s),()=>l()})},X=async()=>{if(R(!0),Y(!0),V(""),M){let e=await (0,m.iH)(d.tO,"upload/profile/".concat(M.name));(0,m.KV)(e,M).then(e=>{(0,m.Jt)(e.ref).then(e=>{let s=(0,o.JU)(d.Uc,"user",P);(0,o.r7)(s,{name:a,mobile:b,address:w,city:C,country:E,state:k,zip:F,profile:e}),z(),x.ZP.success("Data Updated",{position:"top-right",style:{background:"green",color:"#fff",border:"1px solid #713200"}}),R(!1),Y(!1)})})}else{let e=(0,o.JU)(d.Uc,"user",P);(0,o.r7)(e,{name:a,mobile:b,address:w,city:C,country:E,state:k,zip:F}),z(),R(!1),x.ZP.success("Data is Updated But Image Not Updated",{position:"top-right",style:{background:"green",color:"#fff"}})}},[q,K]=(0,r.useState)([]),[Q,R]=(0,r.useState)(!1),[T,Y]=(0,r.useState)(!1),[G,W]=(0,r.useState)({name:"",email:""}),[ee,es]=(0,r.useState)(""),[ea,el]=(0,r.useState)([]);(0,r.useEffect)(()=>{{let e=localStorage.getItem("user"),s=JSON.parse(e);if(es(s.role),1==s.role){R(!0);let e=(0,o.IO)((0,o.hJ)(d.Uc,"user"),(0,o.ar)("role","==","4")),s=(0,o.cf)(e,e=>{let a=[];return e.forEach(e=>{a.push({...e.data(),id:e.id})}),K(a),el(a),console.log(a),R(!1),()=>s()})}if(2==s.role||3==s.role){R(!0);let e=(0,o.IO)((0,o.hJ)(d.Uc,"user"),(0,o.ar)("owner_id","==",s.user_id)),a=(0,o.cf)(e,e=>{let s=[];return e.forEach(e=>{s.push({...e.data(),id:e.id})}),K(s),el(s),console.log(s),R(!1),()=>a()})}}},[]);let er=async(e,s,a)=>{R(!0),await (0,f.e5)(d.I8,s,a);let l=d.I8.currentUser;await (0,f.h8)(l).then(()=>{}).catch(e=>{}),await (0,o.oe)((0,o.JU)(d.Uc,"user",e)),R(!1),x.ZP.success("Delete User Data",{position:"top-right",style:{background:"green",color:"#fff",border:"1px solid #713200"}})};return(0,l.jsxs)(l.Fragment,{children:[Q?(0,l.jsx)("div",{className:"loading"}):(0,l.jsx)("span",{}),(0,l.jsxs)("div",{className:"wrapper",children:[(0,l.jsx)(c.default,{}),(0,l.jsx)(i.default,{}),(0,l.jsx)(x.x7,{}),(0,l.jsxs)(N.Z,{size:"lg",show:e,onHide:z,children:[(0,l.jsx)(N.Z.Header,{className:"modal-head",closeButton:!0,children:(0,l.jsx)(N.Z.Title,{children:"Update User Details"})}),(0,l.jsxs)(N.Z.Body,{children:[T?(0,l.jsx)("div",{className:"loading"}):(0,l.jsx)("span",{}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Name"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:a,"aria-describedby":"emailHelp",placeholder:"Enter Name"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",readOnly:!0,defaultValue:g,"aria-describedby":"emailHelp",placeholder:"Enter Name"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Mobile"}),(0,l.jsx)("input",{type:"text",className:"form-control",defaultValue:b,onChange:e=>y(e.target.value)})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Profile Image"}),(0,l.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:e=>{O(e.target.files[0])}})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"City"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:C,onChange:e=>S(e.target.value),placeholder:"City"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"State"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:k,onChange:e=>Z(e.target.value),placeholder:"State"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Zip Code"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:F,onChange:e=>_(e.target.value),placeholder:"ZIp Code"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Country"}),(0,l.jsx)("input",{type:"text",className:"form-control",id:"name",defaultValue:E,onChange:e=>U(e.target.value),placeholder:"Country"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Address"}),(0,l.jsx)("textarea",{className:"form-control",defaultValue:w,onChange:e=>I(e.target.value),rows:"3"})]}),(0,l.jsxs)("div",{className:" col-6 form-group",children:[(0,l.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Old Image"}),(0,l.jsxs)(u(),{href:D,target:"_blank",children:[" ",(0,l.jsx)(p.Z,{className:"form-control",src:D,style:{width:"200px",height:"100px"}})," "]})]})]}),(0,l.jsxs)("div",{className:"card-footer",children:[(0,l.jsx)("button",{onClick:()=>X(),className:"btn btn-dark",children:"Update"}),(0,l.jsx)("a",{className:"btn btn-dark ml-5 justify-content-end",children:"Assign Vehicles"})]})]}),(0,l.jsx)(N.Z.Footer,{children:(0,l.jsx)(j.Z,{variant:"secondary",onClick:z,children:"Close"})})]}),(0,l.jsxs)("div",{className:"content-wrapper",children:[(0,l.jsx)("div",{className:"content-header",children:(0,l.jsxs)("div",{className:"container-fluid",children:[(0,l.jsxs)("div",{className:"row mb-2",children:[(0,l.jsx)("div",{className:"col-sm-3",children:(0,l.jsxs)("h1",{className:"m-0",children:["Users \xa0 \xa0"," ",(0,l.jsx)(u(),{className:"btn btn-dark",href:"/user/adduser.html",children:"Add User"})]})}),(0,l.jsx)("div",{className:"col-sm-6",children:(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search User",onChange:function(e){let s=q.filter(s=>{let a=s.name.toLowerCase().includes(e.target.value.toLowerCase());if(""!=a)return a;{let a=s.email.toLowerCase().includes(e.target.value.toLowerCase());if(""!=a)return a;{let a=s.mobile.includes(e.target.value);if(""!=a)return a;{let a=s.city.includes(e.target.value);if(""!=a)return a;{let a=s.zip.includes(e.target.value);if(""!=a)return a;{let a=s.state.includes(e.target.value);return a}}}}}});el(s)},className:"form-control form_control_new"}),(0,l.jsx)("span",{className:"input-group-addon",children:(0,l.jsx)("input",{type:"submit",value:"Search",className:"btn btn-dark ml-3"})})]})}),(0,l.jsx)("div",{className:"col-sm-3",children:(0,l.jsxs)("ol",{className:"breadcrumb float-sm-right",children:[(0,l.jsx)("li",{className:"breadcrumb-item",children:(0,l.jsx)("a",{href:"#",children:"Home"})}),(0,l.jsx)("li",{className:"breadcrumb-item active",children:"Users"})]})})]}),(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",children:"Name"}),(0,l.jsx)("th",{scope:"col",children:"Email"}),(0,l.jsx)("th",{scope:"col",children:"Password"}),(0,l.jsx)("th",{scope:"col",children:"Mobile"}),(0,l.jsx)("th",{scope:"col",children:"Action"})]})}),(0,l.jsx)("tbody",{children:ea.map((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.name}),(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:e.password}),(0,l.jsx)("td",{children:e.mobile}),(0,l.jsxs)("td",{children:[(0,l.jsx)("button",{onClick:()=>er(e.id,e.email,e.password),className:"btn btn-dark",children:(0,l.jsx)(n.Xm5,{})}),(0,l.jsx)(j.Z,{className:"btn btn-dark ml-3 text-light",variant:"primary",onClick:()=>$(e.userId),children:(0,l.jsx)(n.fmQ,{})})]})]},e.id))})]}),(0,l.jsx)("hr",{})]})}),(0,l.jsx)("div",{className:"card-group m-2 collapse ",id:"collapseExamplefour",children:(0,l.jsxs)("div",{className:"card box",children:[(0,l.jsxs)("div",{className:"card-header border-0",children:[(0,l.jsx)("h3",{className:"card-title",children:"User ID_3 - Name"}),(0,l.jsx)("div",{className:"card-tools",children:(0,l.jsx)("span",{title:"3 New Messages",className:"badge badge-primary",children:(0,l.jsx)(n.I$,{})})})]}),(0,l.jsxs)("div",{className:"col-span-1 bg-white border   ",children:[(0,l.jsxs)("div",{className:"row userp",children:[(0,l.jsx)("div",{className:"col-3",children:(0,l.jsxs)("div",{className:"userone",children:[" ",(0,l.jsxs)("span",{title:"3 New Messages",className:"badge badge-primary",children:[(0,l.jsx)(n.I$,{})," "]})," ","Name"]})}),(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)("div",{className:"userone",children:"="})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)("div",{children:"XYZ"})})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"row userp ",children:[(0,l.jsx)("div",{className:"col-3",children:(0,l.jsxs)("div",{className:"userone",children:[" ",(0,l.jsx)("span",{title:"3 New Messages",className:"badge badge-primary",children:(0,l.jsx)(n.Jmy,{})})," ","Phone Number"]})}),(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)("div",{className:"userone",children:"="})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)("div",{children:"8976009768"})})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"row userp ",children:[(0,l.jsx)("div",{className:"col-3",children:(0,l.jsxs)("div",{className:"userone",children:[" ",(0,l.jsx)("span",{title:"3 New Messages",className:"badge badge-primary",children:(0,l.jsx)(n.Jmy,{})})," ","Phone IMEI"]})}),(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)("div",{className:"userone",children:"="})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)("div",{children:"IMEI 123456789"})})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"row userp",children:[(0,l.jsx)("div",{className:"col-3",children:(0,l.jsxs)("div",{className:"userone",children:[" ",(0,l.jsx)("span",{title:"3 New Messages",className:"badge badge-primary",children:(0,l.jsx)(n.VJF,{})})," ","Last Vehicle"]})}),(0,l.jsx)("div",{className:"col-3",children:(0,l.jsx)("div",{className:"userone",children:"="})}),(0,l.jsx)("div",{className:"col-6",children:(0,l.jsx)("div",{children:"ABC"})})]}),(0,l.jsx)("hr",{})]})]})}),(0,l.jsx)("br",{})]}),(0,l.jsx)("hr",{}),(0,l.jsx)(t.Z,{})]})]})}},6076:function(e,s,a){"use strict";a(7437),a(2265)},3414:function(e,s,a){"use strict";var l=a(2744),r=a.n(l),t=a(2265),c=a(4275),i=a.n(c),n=a(7127),d=a(7437);i().string,i().bool,i().bool,i().bool,i().bool;let Image=t.forwardRef(({bsPrefix:e,className:s,fluid:a=!1,rounded:l=!1,roundedCircle:t=!1,thumbnail:c=!1,...i},o)=>(e=(0,n.vE)(e,"img"),(0,d.jsx)("img",{ref:o,...i,className:r()(s,a&&`${e}-fluid`,l&&"rounded",t&&"rounded-circle",c&&`${e}-thumbnail`)})));Image.displayName="Image",s.Z=Image}},function(e){e.O(0,[2420,4358,6220,8373,1396,5490,6691,8344,9891,2971,2472,1744],function(){return e(e.s=6752)}),_N_E=e.O()}]);