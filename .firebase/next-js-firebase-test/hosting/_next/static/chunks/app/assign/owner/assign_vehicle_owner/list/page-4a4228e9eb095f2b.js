(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{43:function(e,s,l){Promise.resolve().then(l.bind(l,1782))},1782:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return f}});var c=l(7437),r=l(2265),i=l(5478),n=l(5925),a=l(7028),t=l(2037),d=l(3572),o=l(1167),h=l(3159),j=l(4086),x=l(1866),m=l(1396),u=l.n(m);function f(){let[e,s]=(0,r.useState)(!1),[l,m]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[N,g]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),[S,y]=(0,r.useState)(!1),[_,w]=(0,r.useState)([]),[E,O]=(0,r.useState)([]),[Z,k]=(0,r.useState)([]),[C,V]=(0,r.useState)([]),[A,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{{let e=localStorage.getItem("user"),l=JSON.parse(e);if(1==l.role){s(!0);let e=(0,j.IO)((0,j.hJ)(x.Uc,"user"),(0,j.ar)("role","<","4"),(0,j.ar)("role",">","1")),l=(0,j.cf)(e,e=>{let c=[];return e.forEach(e=>{c.push({...e.data(),id:e.id}),console.log(e.id," => ",e.data())}),w(c),O(c),console.log(E),s(!1),()=>l()})}else{s(!0);let e=(0,j.IO)((0,j.hJ)(x.Uc,"user"),(0,j.ar)("role","<","4"),(0,j.ar)("role",">","1")),l=(0,j.cf)(e,e=>{let c=[];return e.forEach(e=>{c.push({...e.data(),id:e.id})}),w(c),O(c),console.log(E),s(!1),()=>l()})}}},[]);let J=()=>I(!1),F=async e=>{y(!0),I(!0);let s=(0,j.IO)((0,j.hJ)(x.Uc,"user",e.id,"assign_vehicle")),l=(0,j.cf)(s,async e=>{let s=[];e.forEach(async e=>{let l=(0,j.IO)((0,j.hJ)(x.Uc,"vehicle")),c=e.id,r=(0,j.cf)(l,e=>{let l=[];e.forEach(e=>{e.id==c&&(l.push(e.data()),console.log(e.data()))}),s.push(...l),k(s),V(s),console.log(s)});return console.log(s),()=>r()}),y(!1)});return()=>l()};return(0,c.jsxs)(c.Fragment,{children:[e?(0,c.jsx)("div",{className:"loading"}):(0,c.jsx)("span",{}),(0,c.jsxs)("div",{className:"wrapper",children:[(0,c.jsx)(i.default,{}),(0,c.jsx)(n.default,{}),(0,c.jsx)(t.x7,{}),(0,c.jsxs)(o.Z,{size:"lg",show:A,onHide:J,children:[(0,c.jsx)(o.Z.Header,{className:"modal-head",closeButton:!0,children:(0,c.jsx)(o.Z.Title,{children:"Assign Vehicle List"})}),(0,c.jsxs)(o.Z.Body,{children:[S?(0,c.jsx)("div",{className:"loading"}):(0,c.jsx)("span",{}),(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{scope:"col",children:" Vehicle Name"}),(0,c.jsx)("th",{scope:"col",children:"Vehicle Color"}),(0,c.jsx)("th",{scope:"col",children:"RF Key"})]})}),(0,c.jsx)("tbody",{children:Z.map((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:e.vehicle_color}),(0,c.jsx)("td",{children:e.vehicle_id})]},e.id))})]})]}),(0,c.jsx)(o.Z.Footer,{children:(0,c.jsx)(d.Z,{variant:"secondary",onClick:J,children:"Close"})})]}),(0,c.jsxs)("div",{className:"content-wrapper",children:[(0,c.jsxs)("div",{className:"content-header",children:[(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsxs)("div",{className:"row mb-2",children:[(0,c.jsx)("div",{className:"col-sm-9",children:(0,c.jsxs)("h1",{className:"m-0",children:[" Assign Vehicle To Owner List ",(0,c.jsx)(u(),{href:"/assign/owner/assign_vehicle_owner.html",className:"btn btn-success ml-3 mt-3",children:"Assign Vehicle To Owner"})]})}),(0,c.jsx)("div",{className:"col-sm-3",children:(0,c.jsxs)("ol",{className:"breadcrumb float-sm-right",children:[(0,c.jsx)("li",{className:"breadcrumb-item",children:(0,c.jsx)("a",{href:"#",children:"Home"})}),(0,c.jsx)("li",{className:"breadcrumb-item active",children:"Vehicles"})]})})]})}),(0,c.jsx)("hr",{})]}),(0,c.jsx)("div",{className:"container-fluid",children:(0,c.jsxs)("table",{className:"table",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{scope:"col",children:"Name"}),(0,c.jsx)("th",{scope:"col",children:"Email"}),(0,c.jsx)("th",{scope:"col",children:"Mobile"}),(0,c.jsx)("th",{scope:"col",children:"Assign Vehicle"})]})}),(0,c.jsx)("tbody",{children:E.map((e,s)=>(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:e.name}),(0,c.jsx)("td",{children:e.email}),(0,c.jsx)("td",{children:e.mobile}),(0,c.jsx)("td",{children:(0,c.jsx)(d.Z,{className:"btn btn-dark ml-3 text-light",variant:"primary",onClick:()=>F(e),children:(0,c.jsx)(h.dSq,{})})})]},e.id))})]})})]}),(0,c.jsx)("hr",{}),(0,c.jsx)(a.Z,{})]})]})}},7028:function(e,s,l){"use strict";l.d(s,{Z:function(){return n}});var c=l(7437);l(2265);var r=l(8475),i=l.n(r);function n(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("footer",{className:"main-footer",children:[(0,c.jsxs)("strong",{children:["Copyright \xa9 2023 ",(0,c.jsx)("a",{href:"#"}),"."]}),"All rights reserved.",(0,c.jsx)("div",{className:"float-right d-none d-sm-inline-block"})]}),(0,c.jsx)(i(),{src:"../js/jquery.min.js"}),(0,c.jsx)(i(),{src:"../js/bootstrap.bundle.min.js"}),(0,c.jsx)(i(),{src:"../js/adminlte.js"}),(0,c.jsx)(i(),{src:"../js/Chart.min.js"}),(0,c.jsx)(i(),{src:"../js/summernote-bs4.min.js"}),(0,c.jsx)(i(),{src:"../js/demo.js"}),(0,c.jsx)(i(),{src:"../js/dashboard3.js"})]})}}},function(e){e.O(0,[2420,4358,6220,8373,1396,5490,8344,9891,2971,2472,1744],function(){return e(e.s=43)}),_N_E=e.O()}]);